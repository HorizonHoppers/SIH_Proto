<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>DPP — EduSphere</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body{font-family:Inter,system-ui;background:#f4f7fb;color:#0b1220;padding:28px}
    .card-empty{border-radius:12px;padding:40px;text-align:center;background:linear-gradient(180deg,#fff,#fafcff);box-shadow:0 8px 28px rgba(12,22,48,.06)}
    .status {font-size:0.9rem;color:#6b7280;margin-top:6px}
  </style>
</head>
<body>
  <div class="container">
    <a href="{{ url_for('student_portal') }}" class="btn btn-link">&larr; Back</a>
    <div class="card-empty mt-4">
      <img src="https://img.icons8.com/fluency/96/task.png" alt="No DPP">
      <h4 class="mt-3">No DPP (Daily Practice Problems)</h4>
      <p class="text-muted">No practice sets have been assigned yet. Teachers can upload DPP from the admin panel.</p>
      <div class="status" id="voiceStatus">Voice ready — say "Back"</div>
    </div>
  </div>

  <script>
    function initRecognition() {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!SpeechRecognition) {
        document.getElementById("voiceStatus").textContent = "Speech API not supported";
        return;
      }
      const recognition = new SpeechRecognition();
      recognition.lang = "en-IN";
      recognition.continuous = true;
      recognition.interimResults = false;

      recognition.onresult = (ev) => {
        const text = ev.results[ev.results.length - 1][0].transcript.trim().toLowerCase();
        document.getElementById("voiceStatus").textContent = 'Heard: "'+text+'"';
        if (text.includes("back")) {
          window.location.href = "{{ url_for('student_portal') }}";
        }
      };

      recognition.onerror = () => recognition.start();
      recognition.onend = () => recognition.start();
      recognition.start();
    }
    initRecognition();
  </script>
</body>
</html>
