<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Videos — EduSphere</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body{font-family:Inter,system-ui;background:#f4f7fb;color:#0b1220;padding:28px}
    .top{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
    .card-empty{border-radius:12px;padding:40px;text-align:center;background:linear-gradient(180deg,#fff,#fafcff);box-shadow:0 8px 28px rgba(12,22,48,.06)}
    .btn-ghost{background:transparent;border:1px solid #e6eefc;color:#0b1220}
    .status {font-size:0.9rem;color:#6b7280;margin-top:6px}
  </style>
</head>
<body>
  <div class="top container">
    <div>
      <a href="{{ url_for('student_portal') }}" class="btn btn-link">&larr; Back</a>
      <h3 class="d-inline-block ms-2">Videos</h3>
    </div>
    <div><small class="text-muted">No videos uploaded yet</small></div>
  </div>

  <div class="container">
    <div class="card-empty">
      <img src="https://img.icons8.com/fluency/96/video-playlist.png" alt="No videos">
      <h4 class="mt-3">No videos available</h4>
      <p class="text-muted">Your teacher hasn't uploaded any lecture recordings yet. Check back later or contact them to upload materials.</p>
      <div class="mt-3"><button class="btn btn-ghost">Request Upload</button></div>
      <div class="status" id="voiceStatus">Voice ready — say "Back"</div>
    </div>
  </div>

  <script>
    function initRecognition() {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!SpeechRecognition) {
        document.getElementById("voiceStatus").textContent = "Speech API not supported";
        return;
      }
      const recognition = new SpeechRecognition();
      recognition.lang = "en-IN";
      recognition.continuous = true;
      recognition.interimResults = false;

      recognition.onresult = (ev) => {
        const text = ev.results[ev.results.length - 1][0].transcript.trim().toLowerCase();
        document.getElementById("voiceStatus").textContent = 'Heard: "'+text+'"';
        if (text.includes("back")) {
          window.location.href = "{{ url_for('student_portal') }}";
        }
      };

      recognition.onerror = () => recognition.start();
      recognition.onend = () => recognition.start();
      recognition.start();
    }
    initRecognition();
  </script>
</body>
</html>
